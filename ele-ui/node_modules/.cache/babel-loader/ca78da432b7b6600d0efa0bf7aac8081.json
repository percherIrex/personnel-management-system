{"remainingRequest":"/Users/percher/personnel-management-system/ele-ui/node_modules/babel-loader/lib/index.js!/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/percher/personnel-management-system/ele-ui/src/components/Sign/HandleApp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/percher/personnel-management-system/ele-ui/src/components/Sign/HandleApp.vue","mtime":1589797476539},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSGFuZGxlQXBwIiwKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJJbmZvOiB7CiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgYXV0aG9yOiAwLAogICAgICAgIHVpZDogIiIKICAgICAgfSwKICAgICAgdGFibGVEYXRhOiBbewogICAgICAgIGFwcGxpY2F0aW9uSWQ6ICIiLAogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHJlYXNvbjogIiIsCiAgICAgICAgZGF0ZTogIiIKICAgICAgfV0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgbXkgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIikpOwogICAgdGhpcy51c2VySW5mby5uYW1lID0gbXkubmFtZTsKICAgIHRoaXMudXNlckluZm8udWlkID0gbXkudWlkOwogICAgdGhpcy51c2VySW5mby5hdXRob3IgPSBteS5hdXRob3I7CiAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcHBsaWNhdGlvbi9oYW5kbGUiKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlc3AuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlRWRpdDogZnVuY3Rpb24gaGFuZGxlRWRpdChpbmRleCwgcm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vY29uc29sZS5sb2cocm93LmFwcGxpY2F0aW9uSWQpOwogICAgICAvL2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcHBsaWNhdGlvbi97d2F5fS97bWFpbl9pZH0ve21haW5fbmFtZX0KCgogICAgICBheGlvcy5wdXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcHBsaWNhdGlvbi8iICsgMSArICIvIiArIHRoaXMudXNlckluZm8udWlkICsgIi8iICsgdGhpcy51c2VySW5mby5uYW1lLCByb3cpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcC5kYXRhKSB7CiAgICAgICAgICBfdGhpcy5yZWxvYWQoKTsKCiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSgn5bey5aSE55CGJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKCfmnKrnn6XplJnor68nKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGluZGV4LCByb3cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLnB1dCgiaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FwcGxpY2F0aW9uLyIgKyAwICsgIi8iICsgdGhpcy51c2VySW5mby51aWQgKyAiLyIgKyB0aGlzLnVzZXJJbmZvLm5hbWUsIHJvdykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwLmRhdGEpIHsKICAgICAgICAgIF90aGlzLnJlbG9hZCgpOwoKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKCflt7LlpITnkIYnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoJ+acquefpemUmeivrycpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["HandleApp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,MAAA,EAAA,CACA,QADA,CAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,CAFA;AAGA,QAAA,GAAA,EAAA;AAHA,OADA;AAMA,MAAA,SAAA,EAAA,CAAA;AACA,QAAA,aAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA,EAFA;AAGA,QAAA,MAAA,EAAA,EAHA;AAIA,QAAA,IAAA,EAAA;AAJA,OAAA;AANA,KAAA;AAaA,GAnBA;AAqBA,EAAA,OArBA,qBAqBA;AACA,QAAA,KAAA,GAAA,IAAA;;AACA,QAAA,EAAA,GAAA,IAAA,CAAA,KAAA,CAAA,cAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA;AACA,SAAA,QAAA,CAAA,IAAA,GAAA,EAAA,CAAA,IAAA;AACA,SAAA,QAAA,CAAA,GAAA,GAAA,EAAA,CAAA,GAAA;AACA,SAAA,QAAA,CAAA,MAAA,GAAA,EAAA,CAAA,MAAA;AAEA,IAAA,KAAA,CAAA,GAAA,CAAA,0CAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,IAAA,CAAA,IAAA;AACA,KAFA;AAGA,GA/BA;AAiCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,KADA,EACA,GADA,EACA;AACA,UAAA,KAAA,GAAA,IAAA,CADA,CAEA;AACA;;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,uCAAA,CAAA,GAAA,GAAA,GAAA,KAAA,QAAA,CAAA,GAAA,GAAA,GAAA,GAAA,KAAA,QAAA,CAAA,IAAA,EAAA,GAAA,EACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,MAAA;AACA;AACA,OARA;AASA,KAdA;AAeA,IAAA,YAfA,wBAeA,KAfA,EAeA,GAfA,EAeA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,uCAAA,CAAA,GAAA,GAAA,GAAA,KAAA,QAAA,CAAA,GAAA,GAAA,GAAA,GAAA,KAAA,QAAA,CAAA,IAAA,EAAA,GAAA,EACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,MAAA;AACA;AACA,OARA;AASA;AA1BA;AAjCA,CAAA","sourcesContent":["<template>\n    <div>\n        <span>请假审批</span>\n        <span v-if=\"!userInfo.author\">你不是管理员，你没有足够的权限使用该功能</span>\n        <el-table\n                v-else\n                :data=\"tableData\"\n                style=\"width: 100%\">\n\n            <el-table-column\n                    prop=\"name\"\n                    label=\"申请人\"\n                    width=\"180\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"reason\"\n                    label=\"申请原因\"\n                    width=\"180\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"date\"\n                    label=\"申请日期\"\n                    width=\"180\">\n            </el-table-column>\n            <el-table-column label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button\n                            size=\"mini\"\n                            @click=\"handleEdit(scope.$index, scope.row)\">允许\n                    </el-button>\n                    <el-button\n                            size=\"mini\"\n                            type=\"danger\"\n                            @click=\"handleDelete(scope.$index, scope.row)\">拒绝\n                    </el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"HandleApp\",\n        inject:[\n            'reload'\n        ],\n        data() {\n            return {\n                userInfo: {\n                    name: \"\",\n                    author: 0,\n                    uid: \"\",\n                },\n                tableData: [{\n                    applicationId: \"\",\n                    name: \"\",\n                    reason: \"\",\n                    date: \"\",\n                }]\n            }\n        },\n\n        created() {\n            let _this = this\n            let my = JSON.parse(sessionStorage.getItem(\"userInfo\"));\n            this.userInfo.name = my.name\n            this.userInfo.uid = my.uid\n            this.userInfo.author = my.author\n\n            axios.get(\"http://localhost:8081/application/handle\").then(function (resp) {\n                _this.tableData = resp.data\n            })\n        },\n\n        methods: {\n            handleEdit(index, row) {\n                let _this = this\n                //console.log(row.applicationId);\n                //http://localhost:8081/application/{way}/{main_id}/{main_name}\n                axios.put(\"http://localhost:8081/application/\" + 1 + \"/\" + this.userInfo.uid + \"/\" + this.userInfo.name, row)\n                    .then(function (resp) {\n                    if (resp.data) {\n                        _this.reload();\n                        _this.$message('已处理');\n                    } else {\n                        _this.$message('未知错误');\n                    }\n                })\n            },\n            handleDelete(index, row) {\n                let _this = this\n                axios.put(\"http://localhost:8081/application/\" + 0 + \"/\" + this.userInfo.uid + \"/\" + this.userInfo.name, row)\n                    .then(function (resp) {\n                    if (resp.data) {\n                        _this.reload();\n                        _this.$message('已处理');\n                    } else {\n                        _this.$message('未知错误');\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components/Sign"}]}