{"remainingRequest":"/Users/percher/personnel-management-system/ele-ui/node_modules/babel-loader/lib/index.js!/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/percher/personnel-management-system/ele-ui/src/components/Salary/SalaryOut.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/percher/personnel-management-system/ele-ui/src/components/Salary/SalaryOut.vue","mtime":1591281886789},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW3svLyBpZDogIiIsCiAgICAgICAgLy8gdWlkOiAiIiwKICAgICAgICAvLyBuYW1lOiAiIiwKICAgICAgICAvLyBwb3NpdGlvbjogIuaVmeaOiCIsCiAgICAgICAgLy8gd2FnZXM6IDUwMDAsCiAgICAgICAgLy8gZnVuZDogMC4xMiwKICAgICAgICAvLyBpbnN1cmUxOiAwLjIsCiAgICAgICAgLy8gaW5zdXJlMjogMC4xLAogICAgICAgIC8vIGluc3VyZTM6IDAuMDEsCiAgICAgICAgLy8gaW5zdXJlNDogMC4wMSwKICAgICAgICAvLyBpbnN1cmU1OiAwLjAwOCwKICAgICAgICAvLyBhYnNlbmNlOjAKICAgICAgfV0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9jYXBpdGFsL2xpc3QvZmluYWwiKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlc3AuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY291bnREZWR1Y3Q2OiBmdW5jdGlvbiBjb3VudERlZHVjdDYocm93KSB7CiAgICAgIHZhciByID0gcm93LnJvdzsKICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgZGF5ID0gbmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCBkLmdldERhdGUoKSArIDEsIDApLmdldERhdGUoKTsgLy/ln7rmnKzlt6XotYTlh4/lupTlkIjmiaMgIOS/neW6leaYrzMwMDAKICAgICAgLy/msqHmnInkv53lupXkuoYKCiAgICAgIHZhciByZXN1bHQgPSByLndhZ2VzIC0gKGRheSAtIHIuc2lnbiAtIHIuYWJzZW50KSAqIDUwMCArIHIuYWJzZW50ICogMjAwOwoKICAgICAgaWYgKHJlc3VsdCA8IDApIHsKICAgICAgICByZXN1bHQgPSAwOwogICAgICB9CgogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICAgIGNvdW50RGVkdWN0NTogZnVuY3Rpb24gY291bnREZWR1Y3Q1KHJvdykgewogICAgICB2YXIgciA9IHJvdy5yb3c7CiAgICAgIHZhciBkID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGRheSA9IG5ldyBEYXRlKGQuZ2V0RnVsbFllYXIoKSwgZC5nZXREYXRlKCkgKyAxLCAwKS5nZXREYXRlKCk7CiAgICAgIHJldHVybiAoZGF5IC0gci5zaWduIC0gci5hYnNlbnQpICogNTAwICsgci5hYnNlbnQgKiAyMDA7CiAgICB9LAogICAgY291bnREZWR1Y3Q0OiBmdW5jdGlvbiBjb3VudERlZHVjdDQocm93KSB7CiAgICAgIHZhciByID0gcm93LnJvdzsKICAgICAgdmFyIHN1bSA9IHIuaW5zdXJlMSArIHIuaW5zdXJlMiArIHIuaW5zdXJlMyArIHIuaW5zdXJlNCArIHIuaW5zdXJlNTsKICAgICAgc3VtID0gcGFyc2VGbG9hdChzdW0pLnRvRml4ZWQoMyk7CiAgICAgIHJldHVybiBzdW0gKiByLndhZ2VzICsgci53YWdlczsKICAgIH0sCiAgICBjb3VudERlZHVjdDM6IGZ1bmN0aW9uIGNvdW50RGVkdWN0Myhyb3cpIHsKICAgICAgdmFyIHIgPSByb3cucm93OwogICAgICB2YXIgc3VtID0gci5pbnN1cmUxICsgci5pbnN1cmUyICsgci5pbnN1cmUzICsgci5pbnN1cmU0ICsgci5pbnN1cmU1OwogICAgICBzdW0gPSBwYXJzZUZsb2F0KHN1bSkudG9GaXhlZCgzKTsKICAgICAgcmV0dXJuIHN1bSAqIHIud2FnZXM7CiAgICB9LAogICAgY291bnREZWR1Y3QyOiBmdW5jdGlvbiBjb3VudERlZHVjdDIocm93KSB7CiAgICAgIHZhciByID0gcm93LnJvdzsKICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgZGF5ID0gbmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCBkLmdldERhdGUoKSArIDEsIDApLmdldERhdGUoKTsKICAgICAgcmV0dXJuIChkYXkgLSByLnNpZ24gLSByLmFic2VudCkgKiA1MDA7CiAgICB9LAogICAgY291bnREZWR1Y3QxOiBmdW5jdGlvbiBjb3VudERlZHVjdDEocm93KSB7CiAgICAgIHZhciByID0gcm93LnJvdzsKICAgICAgcmV0dXJuIHIuYWJzZW50ICogMjAwOwogICAgfSwKICAgIGNvdW50QWJzZW50OiBmdW5jdGlvbiBjb3VudEFic2VudChyb3cpIHsKICAgICAgdmFyIHIgPSByb3cucm93OwogICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBkYXkgPSBuZXcgRGF0ZShkLmdldEZ1bGxZZWFyKCksIGQuZ2V0RGF0ZSgpICsgMSwgMCkuZ2V0RGF0ZSgpOwogICAgICByZXR1cm4gZGF5IC0gci5zaWduIC0gci5hYnNlbnQ7CiAgICB9LAogICAgY291bnRBbW91bnQ6IGZ1bmN0aW9uIGNvdW50QW1vdW50KHJvdykgewogICAgICB2YXIgciA9IHJvdy5yb3c7CiAgICAgIHZhciBzdW0gPSByLmluc3VyZTEgKyByLmluc3VyZTIgKyByLmluc3VyZTMgKyByLmluc3VyZTQgKyByLmluc3VyZTU7CiAgICAgIHN1bSA9IHBhcnNlRmxvYXQoc3VtKS50b0ZpeGVkKDMpOwogICAgICByZXR1cm4gc3VtOwogICAgfSwKICAgIGV4cG9ydERhdGFFdmVudDogZnVuY3Rpb24gZXhwb3J0RGF0YUV2ZW50KCkgewogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBvdXRGb3JtYXQgPSB7CiAgICAgICAgdHlwZTogJ2NzdicsCiAgICAgICAgZmlsZW5hbWU6IGRhdGUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpICsgIl8iICsgKGRhdGUuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkgKyAiXyIgKyBkYXRlLmdldERhdGUoKS50b1N0cmluZygpCiAgICAgIH07CiAgICAgIHRoaXMuJHJlZnMueFRhYmxlLmV4cG9ydERhdGEob3V0Rm9ybWF0KTsKICAgIH0gLy8gZXhwb3J0U2VsZWN0RXZlbnQocm93KSB7CiAgICAvLyAgICAgLy9jb25zb2xlLmxvZyhyb3cucm93KQogICAgLy8gfQoKICB9Cn07"},{"version":3,"sources":["SalaryOut.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <vxe-toolbar>\n            <template v-slot:buttons>\n                <vxe-button @click=\"exportDataEvent\">生成报表</vxe-button>\n<!--                <vxe-button @click=\"exportSelectEvent\">导出选中</vxe-button>-->\n            </template>\n        </vxe-toolbar>\n\n        <vxe-table\n                highlight-hover-row\n                export-config\n                border=\"none\"\n                ref=\"xTable\"\n                height=\"460\"\n                :data=\"tableData\">\n<!--            <vxe-table-column field=\"uid\" title=\"UID\" fixed=\"left\"></vxe-table-column>-->\n            <vxe-table-column field=\"name\" title=\"名字\"></vxe-table-column>\n            <vxe-table-column field=\"position\" title=\"职称\"></vxe-table-column>\n            <vxe-table-column field=\"wages\" title=\"基本工资\"></vxe-table-column>\n            <vxe-table-column field=\"fund\" title=\"公积金基数\"></vxe-table-column>\n            <vxe-table-column field=\"insure1\" title=\"养老保险基数\"></vxe-table-column>\n            <vxe-table-column field=\"insure2\" title=\"医疗保险基数\"></vxe-table-column>\n            <vxe-table-column field=\"insure3\" title=\"失业保险基数\"></vxe-table-column>\n            <vxe-table-column field=\"insure4\" title=\"工伤保险基数\"></vxe-table-column>\n            <vxe-table-column field=\"insure5\" title=\"生育保险基数\"></vxe-table-column>\n            <vxe-table-column field=\"a\" title=\"保险总基数\" :formatter=\"countAmount\"></vxe-table-column>\n            <!--            <vxe-table-column title=\"本月打卡数\" :formatter=\"countSign\"></vxe-table-column>-->\n            <vxe-table-column field=\"sign\" title=\"打卡\"></vxe-table-column>\n            <vxe-table-column field=\"absent\" title=\"请假\"></vxe-table-column>\n            <vxe-table-column field=\"b\" title=\"缺勤\" :formatter=\"countAbsent\"></vxe-table-column>\n            <vxe-table-column field=\"c\" title=\"请假应扣\" :formatter=\"countDeduct1\"></vxe-table-column>\n            <vxe-table-column field=\"d\" title=\"缺勤应扣\" :formatter=\"countDeduct2\"></vxe-table-column>\n            <vxe-table-column field=\"e\" title=\"五险一金合\" :formatter=\"countDeduct3\"></vxe-table-column>\n<!--            <vxe-table-column field=\"f\" title=\"应发合\" :formatter=\"countDeduct4\"></vxe-table-column>-->\n            <vxe-table-column field=\"g\" title=\"应扣合\" :formatter=\"countDeduct5\"></vxe-table-column>\n            <vxe-table-column field=\"h\" title=\"实发\" :formatter=\"countDeduct6\"></vxe-table-column>\n        </vxe-table>\n    </div>\n</template>\n<script>\n    export default {\n        data() {\n            return {\n                tableData: [\n                    {\n                        // id: \"\",\n                        // uid: \"\",\n                        // name: \"\",\n                        // position: \"教授\",\n                        // wages: 5000,\n                        // fund: 0.12,\n                        // insure1: 0.2,\n                        // insure2: 0.1,\n                        // insure3: 0.01,\n                        // insure4: 0.01,\n                        // insure5: 0.008,\n                        // absence:0\n                    }\n                ],\n\n            }\n        },\n\n        created() {\n            let _this = this\n            axios.get(\"http://localhost:8081/capital/list/final\").then(function (resp) {\n                _this.tableData = resp.data\n            })\n\n        },\n        methods: {\n            countDeduct6(row) {\n                let r = row.row\n                let d = new Date()\n                let day = new Date(d.getFullYear(), d.getDate()+1, 0).getDate()\n                //基本工资减应合扣  保底是3000\n                //没有保底了\n                let result = r.wages - ((day - r.sign - r.absent) * 500) + (r.absent * 200)\n                if (result < 0) {\n                    result = 0\n                }\n                return result\n            }\n            ,\n            countDeduct5(row) {\n                let r = row.row\n                let d = new Date()\n                let day = new Date(d.getFullYear(), d.getDate()+1, 0).getDate()\n\n                return ((day - r.sign - r.absent) * 500) + (r.absent * 200)\n            }\n            ,\n            countDeduct4(row) {\n                let r = row.row\n                let sum = r.insure1 + r.insure2 + r.insure3 + r.insure4 + r.insure5\n                sum = parseFloat(sum).toFixed(3)\n                return (sum * r.wages) + r.wages\n            }\n            ,\n            countDeduct3(row) {\n                let r = row.row\n                let sum = r.insure1 + r.insure2 + r.insure3 + r.insure4 + r.insure5\n                sum = parseFloat(sum).toFixed(3)\n                return sum * r.wages\n            }\n            ,\n            countDeduct2(row) {\n                let r = row.row\n                let d = new Date()\n                let day = new Date(d.getFullYear(), d.getDate()+1, 0).getDate()\n\n                return (day - r.sign - r.absent) * 500\n            }\n            ,\n            countDeduct1(row) {\n                let r = row.row\n                return r.absent * 200\n            }\n            ,\n            countAbsent(row) {\n                let r = row.row\n                let d = new Date()\n                let day = new Date(d.getFullYear(), d.getDate()+1, 0).getDate()\n\n                return (day - r.sign - r.absent)\n            },\n\n            countAmount(row) {\n                let r = row.row\n                let sum = r.insure1 + r.insure2 + r.insure3 + r.insure4 + r.insure5\n                sum = parseFloat(sum).toFixed(3)\n                return sum\n            },\n\n            exportDataEvent() {\n                let date = new Date()\n                let outFormat = {\n                    type: 'csv',\n                    filename: date.getFullYear().toString() + \"_\" + (date.getMonth() + 1).toString() + \"_\" + date.getDate().toString()\n                }\n                this.$refs.xTable.exportData(outFormat)\n            },\n\n\n            // exportSelectEvent(row) {\n            //     //console.log(row.row)\n            // }\n        }\n    }\n</script>"],"sourceRoot":"src/components/Salary"}]}