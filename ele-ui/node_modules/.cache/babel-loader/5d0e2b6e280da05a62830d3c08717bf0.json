{"remainingRequest":"/Users/percher/personnel-management-system/ele-ui/node_modules/babel-loader/lib/index.js!/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/percher/personnel-management-system/ele-ui/src/components/Sign/Clock.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/percher/personnel-management-system/ele-ui/src/components/Sign/Clock.vue","mtime":1589647501060},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZsYWc6IHRydWUsCiAgICAgIHN1Ym1pdERhdGE6IHsKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBzdGF0dXM6IHRydWUsCiAgICAgICAgdWlkOiAiIgogICAgICB9LAogICAgICBmb3JtSW5saW5lOiB7CiAgICAgICAgcmVnaW9uOiAnJwogICAgICB9LAogICAgICB0YWJsZURhdGE6IFt7CiAgICAgICAgZGF0ZTogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcmVhc29uOiAnJwogICAgICB9XSwKICAgICAgbnVtYmVyczogewogICAgICAgIHRvdGFsOiAwLAogICAgICAgIHNpZ246IDAsCiAgICAgICAgYWJzZW50OiAwCiAgICAgIH0sCiAgICAgIGZvcm06IHsKICAgICAgICByZWFzb246ICLkuLTml7bor7flgYciLAogICAgICAgIHN0YXR1czogZmFsc2UsCiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgdWlkOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICAvL2NvbnNvbGUubG9nKCfmiZPljaEnKTsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBteSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSk7CiAgICAgIHRoaXMuc3VibWl0RGF0YS5uYW1lID0gbXkubmFtZTsKICAgICAgdGhpcy5zdWJtaXREYXRhLnVpZCA9IG15LnVpZDsKCiAgICAgIGlmIChteS51aWQgIT09ICIiKSB7CiAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo4MDgxL3JlY29yZC9zYXZlUmVjb3JkIiwgX3RoaXMuc3VibWl0RGF0YSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgaWYgKHJlc3AuZGF0YSkgewogICAgICAgICAgICAvL190aGlzLiRyb3V0ZXIucHVzaCgiL2VtcHR5IikKICAgICAgICAgICAgX3RoaXMucmVsb2FkKCk7CgogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmiZPljaHmiJDlip8nKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKCfkvaDku4rlpKnlt7Lnu4/miZPov4fljaHkuobvvIEnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpcy4kbWVzc2FnZSgn6K+35YWI55m75b2VJyk7CiAgICAgIH0KICAgIH0sCiAgICBvblN1Ym1pdDI6IGZ1bmN0aW9uIG9uU3VibWl0MigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBteSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSk7CiAgICAgIHRoaXMuZm9ybS5uYW1lID0gbXkubmFtZTsKICAgICAgdGhpcy5mb3JtLnVpZCA9IG15LnVpZDsKCiAgICAgIGlmIChteS51aWQgIT09ICIiKSB7CiAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo4MDgxL3JlY29yZC9zYXZlUmVjb3JkQWJzZW50IiwgX3RoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgaWYgKHJlc3AuZGF0YSkgewogICAgICAgICAgICBfdGhpcy5yZWxvYWQoKTsKCiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKCfkvaDlt7LmiJDlip/or7flgYfvvIEnKTsgLy9fdGhpcy4kcm91dGVyLnB1c2goImNsb2NrIikKCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfkvaDku4rml6Xlt7LmnInor7flgYfmiJbkvaDpnIDopoHlhYjnrb7liLDlkI7lho3mk43kvZwnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIG9uU2VhcmNoOiBmdW5jdGlvbiBvblNlYXJjaCgpIHsKICAgICAgLy8vaHR0cDovL2xvY2FsaG9zdDo4MDgxL3JlY29yZC9zaWduTGlzdC97bWV0aG9kfS97dWlkfQogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHVpZCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSkudWlkOwogICAgICB2YXIgbSA9IHRoaXMuZm9ybUlubGluZS5yZWdpb247CgogICAgICBpZiAobSA+PSAyKSB7CiAgICAgICAgdGhpcy5mbGFnID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTsKICAgICAgfQoKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwODEvcmVjb3JkL3NpZ25MaXN0LyIgKyBtICsgIi8iICsgdWlkKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzcC5kYXRhOwogICAgICB9KTsgLy9jb25zb2xlLmxvZyh0aGlzLmZvcm1JbmxpbmUucmVnaW9uKyJ8Iit1aWQpCiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy9odHRwOi8vbG9jYWxob3N0OjgwODEvcmVjb3JkL2NvdW50CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDgxL3JlY29yZC9jb3VudCIpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgX3RoaXMubnVtYmVycy5zaWduID0gcmVzcC5kYXRhLmNvZl9zaWduOwogICAgICBfdGhpcy5udW1iZXJzLmFic2VudCA9IHJlc3AuZGF0YS5jb2ZfYWJzZW50OwogICAgICBfdGhpcy5udW1iZXJzLnRvdGFsID0gcmVzcC5kYXRhLmNvZl90b3RhbDsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["Clock.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\n        <el-form-item>\n            <el-button type=\"primary\" @click=\"onSubmit\">每日打卡</el-button>\n            <el-button type=\"primary\" @click=\"onSubmit2\">临时请假</el-button>\n        </el-form-item>\n        <el-form-item label=\"查询考勤情况\">\n            <el-select v-model=\"formInline.region\" placeholder=\"请选择\">\n                <el-option label=\"今日打卡\" value=\"0\"></el-option>\n                <el-option label=\"我的打卡\" value=\"1\"></el-option>\n                <el-option label=\"我的请假\" value=\"2\"></el-option>\n                <el-option label=\"今日请假\" value=\"3\"></el-option>\n            </el-select>\n        </el-form-item>\n        <el-form-item>\n            <el-button type=\"primary\" @click=\"onSearch\">查询</el-button>\n        </el-form-item>\n\n        <el-form-item label=\"总人数\">\n            <span>{{numbers.total}}</span>\n        </el-form-item>\n        <el-form-item label=\"今日已打卡人数\">\n            <span>{{numbers.sign}}</span>\n        </el-form-item>\n        <el-form-item label=\"今日请假人数\">\n            <span>{{numbers.absent}}</span>\n        </el-form-item>\n\n        <el-table\n                v-if=\"flag\"\n                :data=\"tableData\"\n                stripe\n                style=\"width: 100%\">\n            <el-table-column\n                    prop=\"name\"\n                    label=\"打卡人\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"date\"\n                    label=\"打卡日期\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"reason\"\n                    label=\"打卡时间\">\n            </el-table-column>\n        </el-table>\n\n        <el-table\n                v-else\n                :data=\"tableData\"\n                stripe\n                style=\"width: 100%\">\n            <el-table-column\n                    prop=\"name\"\n                    label=\"请假人\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"date\"\n                    label=\"请假日期\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"reason\"\n                    label=\"请假原因\">\n            </el-table-column>\n        </el-table>\n\n    </el-form>\n</template>\n<script>\n    export default {\n        inject:[\n            'reload'\n        ],\n\n        data() {\n            return {\n\n                flag: true,\n\n                submitData: {\n                    name: \"\",\n                    status: true,\n                    uid: \"\"\n                },\n\n                formInline: {\n                    region: ''\n                },\n\n                tableData: [{\n                    date: '',\n                    name: '',\n                    reason: ''\n                }]\n                ,\n                numbers: {\n                    total: 0,\n                    sign: 0,\n                    absent: 0\n                }\n                ,\n                form: {\n                    reason:\"临时请假\",\n                    status:false,\n                    name: \"\",\n                    uid: \"\"\n                }\n            }\n        },\n        methods: {\n            onSubmit() {\n                //console.log('打卡');\n                let _this = this\n                let my = JSON.parse(sessionStorage.getItem(\"userInfo\"))\n                this.submitData.name = my.name\n                this.submitData.uid = my.uid\n\n                if (my.uid !== \"\") {\n                    axios.post(\"http://localhost:8081/record/saveRecord\", _this.submitData).then(function (resp) {\n                        if (resp.data) {\n                            //_this.$router.push(\"/empty\")\n                            _this.reload();\n                            _this.$message.success('打卡成功')\n                        } else {\n                            _this.$message('你今天已经打过卡了！')\n                        }\n                    })\n                }else{\n                    _this.$message('请先登录')\n                }\n            },\n            onSubmit2() {\n                let _this = this\n                let my = JSON.parse(sessionStorage.getItem(\"userInfo\"))\n                this.form.name = my.name\n                this.form.uid = my.uid\n\n                if (my.uid !== \"\") {\n                    axios.post(\"http://localhost:8081/record/saveRecordAbsent\", _this.form).then(function (resp) {\n                        if (resp.data) {\n                            _this.reload();\n                            _this.$message('你已成功请假！')\n                            //_this.$router.push(\"clock\")\n                        } else {\n                            _this.$message.warning('你今日已有请假或你需要先签到后再操作')\n                        }\n                    })\n                }\n            }\n            ,\n            onSearch() {\n                ///http://localhost:8081/record/signList/{method}/{uid}\n                let _this = this\n                let uid = JSON.parse(sessionStorage.getItem(\"userInfo\")).uid\n                let m = this.formInline.region\n\n                if (m >= 2) {\n                    this.flag = false\n                } else {\n                    this.flag = true\n                }\n\n                axios.get(\"http://localhost:8081/record/signList/\" + m + \"/\" + uid).then(function (resp) {\n                    _this.tableData = resp.data\n                })\n\n                //console.log(this.formInline.region+\"|\"+uid)\n            }\n        },\n\n        created() {\n            //http://localhost:8081/record/count\n            let _this = this\n            axios.get(\"http://localhost:8081/record/count\").then(function (resp) {\n                _this.numbers.sign = resp.data.cof_sign\n                _this.numbers.absent = resp.data.cof_absent\n                _this.numbers.total = resp.data.cof_total\n            })\n        }\n    }\n</script>"],"sourceRoot":"src/components/Sign"}]}