{"remainingRequest":"/Users/percher/WebstormProjects/ele-ui/node_modules/babel-loader/lib/index.js!/Users/percher/WebstormProjects/ele-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/percher/WebstormProjects/ele-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/percher/WebstormProjects/ele-ui/src/components/User/UserEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/percher/WebstormProjects/ele-ui/src/components/User/UserEdit.vue","mtime":1583951020179},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgaW5qZWN0OiBbJ3JlbG9hZCddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYWdlU2l6ZTogMCwKICAgICAgdG90YWw6IDAsCiAgICAgIHRhYmxlRGF0YTogW3sKICAgICAgICBpZDogJycsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgcGhvbmU6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBkZXBhcnQ6ICcnLAogICAgICAgIHBvc2l0aW9uOiAnJywKICAgICAgICBnZW5kZXI6ICcnCiAgICAgIH1dLAogICAgICBzZXhMaXN0OiBbewogICAgICAgIGxhYmVsOiAn5aWzJywKICAgICAgICB2YWx1ZTogJ+WlsycKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn55S3JywKICAgICAgICB2YWx1ZTogJ+eUtycKICAgICAgfV0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS91c2VyL2ZpbmRBbGwvMS85IikudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICBfdGhpcy50YWJsZURhdGEgPSByZXNwLmRhdGEucmVjb3JkczsKICAgICAgX3RoaXMucGFnZVNpemUgPSByZXNwLmRhdGEuc2l6ZTsKICAgICAgX3RoaXMudG90YWwgPSByZXNwLmRhdGEudG90YWw7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5YiG6aG15pa55rOVLOeCueWHu+WQjuinpuWPkeS6i+S7tgogICAgcGFnZUNoYW5nZTogZnVuY3Rpb24gcGFnZUNoYW5nZShjdXJyZW50UGFnZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODEvdXNlci9maW5kQWxsLycgKyBjdXJyZW50UGFnZS50b1N0cmluZygpICsgIi85IikudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlc3AuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzLnBhZ2VTaXplID0gcmVzcC5kYXRhLnNpemU7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfSwKICAgIC8v6Kem5Y+R57yW6L6R5LqL5Lu2CiAgICBlZGl0Um93RXZlbnQ6IGZ1bmN0aW9uIGVkaXRSb3dFdmVudChyb3cpIHsKICAgICAgdGhpcy4kcmVmcy54VGFibGUuc2V0QWN0aXZlUm93KHJvdyk7CiAgICB9LAogICAgLy/liKDpmaTkuovku7YKICAgIGRlbGVSb3dFdmVudDogZnVuY3Rpb24gZGVsZVJvd0V2ZW50KHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vY29uc29sZS5sb2coIuWIoOmZpCIgKyByb3cuaWQpCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRYTW9kYWwuY29uZmlybSgn5oKo56Gu5a6a6KaB5Yig6Zmk6K+l5pWw5o2uPycpLnRoZW4oZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbmZpcm0nKSB7CiAgICAgICAgICBfdGhpczIuJHJlZnMueFRhYmxlLnJlbW92ZShyb3cpOyAvL+WQkeacjeWKoeWZqOivt+axguWIoOmZpAoKCiAgICAgICAgICBheGlvcy5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS91c2VyL2RlbGV0ZVVzZXIvIiArIHJvdy5pZCkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICBpZiAocmVzcC5kYXRhKSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoJ+WIoOmZpOaIkOWKnycpOyAvL3dpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKQoKCiAgICAgICAgICAgICAgX3RoaXMucmVsb2FkKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoJ+WIoOmZpOWksei0pSzmlbDmja7kuI3lrZjlnKgnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+S/ruaUueWQjuS/neWtmOS6i+S7tgogICAgc2F2ZVJvd0V2ZW50OiBmdW5jdGlvbiBzYXZlUm93RXZlbnQocm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLnhUYWJsZS5jbGVhckFjdGl2ZWQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvL+aPkOS6pOWIsOaVsOaNruW6kyzoh6rliqjlsIHoo4XmiJBKc29uCiAgICAgICAgYXhpb3MucHV0KCJodHRwOi8vbG9jYWxob3N0OjgwODEvdXNlci8vdXBkYXRlVXNlciIsIHJvdykudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgaWYgKHJlc3AuZGF0YSkgewogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSgn5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSgn5L+u5pS55aSx6LSlJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Y+W5raI5L+u5pS55ZCO6L+Y5Y6f6KGo5pWw5o2uCiAgICBjYW5jZWxSb3dFdmVudDogZnVuY3Rpb24gY2FuY2VsUm93RXZlbnQocm93KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLnhUYWJsZS5jbGVhckFjdGl2ZWQoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDov5jljp/ooYzmlbDmja4g6KaB5byA5ZCva2VlcC1zb3VyY2UKICAgICAgICBjb25zb2xlLmxvZygi5Y+W5raI5LqG5pu05pS5Iik7CgogICAgICAgIF90aGlzLiRyZWZzLnhUYWJsZS5yZXZlcnREYXRhKHJvdyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["UserEdit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <vxe-table\n                ref=\"xTable\"\n                :keep-source=\"true\"\n                border\n                resizable\n                show-overflow\n                :data=\"tableData\"\n                :edit-config=\"{trigger: 'manual', mode: 'row'}\">\n            <vxe-table-column field=\"id\" title=\"编号\" width=\"60\"></vxe-table-column>\n            <vxe-table-column field=\"name\" title=\"姓名\"\n                              :edit-render=\"{name: 'input', attrs: {type: 'text'}}\"></vxe-table-column>\n            <vxe-table-column field=\"gender\" title=\"性别\"\n                              :edit-render=\"{name: '$select', options: sexList}\"></vxe-table-column>\n            <vxe-table-column field=\"phone\" title=\"电话\"\n                              :edit-render=\"{name: '$input', props: {type: 'number'}}\"></vxe-table-column>\n            <vxe-table-column field=\"email\" title=\"邮箱\"\n                              :edit-render=\"{name: 'input', attrs: {type: 'text'}}\"></vxe-table-column>\n            <vxe-table-column field=\"depart\" title=\"部门\"\n                              :edit-render=\"{name: 'input', attrs: {type: 'text'}}\"></vxe-table-column>\n            <vxe-table-column field=\"position\" title=\"职位\"\n                              :edit-render=\"{name: 'input', attrs: {type: 'text'}}\"></vxe-table-column>\n            <vxe-table-column field=\"address\" title=\"地址\"\n                              :edit-render=\"{name: 'input', attrs: {type: 'text'}}\"></vxe-table-column>\n\n            <vxe-table-column title=\"操作\">\n                <template v-slot=\"{ row }\">\n                    <template v-if=\"$refs.xTable.isActiveByRow(row)\">\n                        <vxe-button @click=\"saveRowEvent(row)\" size=\"small\">保存</vxe-button>\n                        <vxe-button @click=\"cancelRowEvent(row)\" size=\"small\">取消</vxe-button>\n                    </template>\n                    <template v-else>\n\n                        <el-button @click=\"editRowEvent(row)\" type=\"primary\" icon=\"el-icon-edit\" circle\n                                   size=\"small\"></el-button>\n                        <el-button @click=\"deleRowEvent(row)\" type=\"danger\" size=\"small\" icon=\"el-icon-delete\"\n                                   circle></el-button>\n                    </template>\n                </template>\n            </vxe-table-column>\n        </vxe-table>\n\n        <el-pagination\n                background\n                layout=\"prev, pager, next\"\n                :page-size=\"pageSize\"\n                :total=\"total\"\n                @current-change=\"pageChange\"\n        >\n        </el-pagination>\n    </div>\n</template>\n\n<script>\n    export default {\n        inject: ['reload']\n        ,\n        data() {\n            return {\n                pageSize: 0,\n                total: 0,\n                tableData: [\n                    {\n                        id: '',\n                        name: '',\n                        phone: '',\n                        email: '',\n                        address: '',\n                        depart: '',\n                        position: '',\n                        gender: '',\n                    }\n                ],\n                sexList: [\n                    {label: '女', value: '女'},\n                    {label: '男', value: '男'}\n                ]\n            }\n        },\n\n        created() {\n            const _this = this\n            axios.get(\"http://localhost:8081/user/findAll/1/9\").then(function (resp) {\n                _this.tableData = resp.data.records\n                _this.pageSize = resp.data.size\n                _this.total = resp.data.total\n            })\n        },\n\n        methods: {\n            //分页方法,点击后触发事件\n            pageChange(currentPage) {\n                const _this = this\n                axios.get('http://localhost:8081/user/findAll/' + currentPage.toString() + \"/9\").then(function (resp) {\n                    _this.tableData = resp.data.records\n                    _this.pageSize = resp.data.size\n                    _this.total = resp.data.total\n                })\n            },\n\n            //触发编辑事件\n            editRowEvent(row) {\n                this.$refs.xTable.setActiveRow(row)\n            },\n\n            //删除事件\n            deleRowEvent(row) {\n                //console.log(\"删除\" + row.id)\n                let _this = this\n                this.$XModal.confirm('您确定要删除该数据?').then(type => {\n                    if (type === 'confirm') {\n                        this.$refs.xTable.remove(row)\n                        //向服务器请求删除\n                        axios.delete(\"http://localhost:8081/user/deleteUser/\" + row.id).then(function (resp) {\n                            if (resp.data) {\n                                _this.$message('删除成功');\n                                //window.location.reload()\n                                _this.reload()\n                            } else {\n                                _this.$message('删除失败,数据不存在');\n                            }\n                        })\n                    } else {\n                        _this.$message({\n                            type: 'info',\n                            message: '已取消删除'\n                        })\n                    }\n                })\n            },\n\n            //修改后保存事件\n            saveRowEvent(row) {\n                let _this = this\n                this.$refs.xTable.clearActived().then(() => {\n\n                    //提交到数据库,自动封装成Json\n                    axios.put(\"http://localhost:8081/user//updateUser\", row).then(function (resp) {\n                        if (resp.data) {\n                            _this.$message('修改成功');\n                        } else {\n                            _this.$message('修改失败');\n                        }\n                    })\n\n                })\n            },\n\n            //取消修改后还原表数据\n            cancelRowEvent(row) {\n                let _this = this\n                this.$refs.xTable.clearActived().then(() => {\n                    // 还原行数据 要开启keep-source\n                    console.log(\"取消了更改\")\n                    _this.$refs.xTable.revertData(row)\n                })\n            }\n        }\n    }\n</script>"],"sourceRoot":"src/components/User"}]}