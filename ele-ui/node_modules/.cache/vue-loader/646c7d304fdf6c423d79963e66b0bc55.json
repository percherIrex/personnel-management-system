{"remainingRequest":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/percher/personnel-management-system/ele-ui/src/components/Sign/HandleApp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/percher/personnel-management-system/ele-ui/src/components/Sign/HandleApp.vue","mtime":1589797476539},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJIYW5kbGVBcHAiLAogICAgaW5qZWN0OlsKICAgICAgICAncmVsb2FkJwogICAgXSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdXNlckluZm86IHsKICAgICAgICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgICAgICAgYXV0aG9yOiAwLAogICAgICAgICAgICAgICAgdWlkOiAiIiwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGFibGVEYXRhOiBbewogICAgICAgICAgICAgICAgYXBwbGljYXRpb25JZDogIiIsCiAgICAgICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgICAgIHJlYXNvbjogIiIsCiAgICAgICAgICAgICAgICBkYXRlOiAiIiwKICAgICAgICAgICAgfV0KICAgICAgICB9CiAgICB9LAoKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgIGxldCBteSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSk7CiAgICAgICAgdGhpcy51c2VySW5mby5uYW1lID0gbXkubmFtZQogICAgICAgIHRoaXMudXNlckluZm8udWlkID0gbXkudWlkCiAgICAgICAgdGhpcy51c2VySW5mby5hdXRob3IgPSBteS5hdXRob3IKCiAgICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwODEvYXBwbGljYXRpb24vaGFuZGxlIikudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXNwLmRhdGEKICAgICAgICB9KQogICAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgaGFuZGxlRWRpdChpbmRleCwgcm93KSB7CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhyb3cuYXBwbGljYXRpb25JZCk7CiAgICAgICAgICAgIC8vaHR0cDovL2xvY2FsaG9zdDo4MDgxL2FwcGxpY2F0aW9uL3t3YXl9L3ttYWluX2lkfS97bWFpbl9uYW1lfQogICAgICAgICAgICBheGlvcy5wdXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcHBsaWNhdGlvbi8iICsgMSArICIvIiArIHRoaXMudXNlckluZm8udWlkICsgIi8iICsgdGhpcy51c2VySW5mby5uYW1lLCByb3cpCiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgICAgaWYgKHJlc3AuZGF0YSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKCflt7LlpITnkIYnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoJ+acquefpemUmeivrycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlRGVsZXRlKGluZGV4LCByb3cpIHsKICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgICAgICBheGlvcy5wdXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9hcHBsaWNhdGlvbi8iICsgMCArICIvIiArIHRoaXMudXNlckluZm8udWlkICsgIi8iICsgdGhpcy51c2VySW5mby5uYW1lLCByb3cpCiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgICAgaWYgKHJlc3AuZGF0YSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKCflt7LlpITnkIYnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoJ+acquefpemUmeivrycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["HandleApp.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HandleApp.vue","sourceRoot":"src/components/Sign","sourcesContent":["<template>\n    <div>\n        <span>请假审批</span>\n        <span v-if=\"!userInfo.author\">你不是管理员，你没有足够的权限使用该功能</span>\n        <el-table\n                v-else\n                :data=\"tableData\"\n                style=\"width: 100%\">\n\n            <el-table-column\n                    prop=\"name\"\n                    label=\"申请人\"\n                    width=\"180\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"reason\"\n                    label=\"申请原因\"\n                    width=\"180\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"date\"\n                    label=\"申请日期\"\n                    width=\"180\">\n            </el-table-column>\n            <el-table-column label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button\n                            size=\"mini\"\n                            @click=\"handleEdit(scope.$index, scope.row)\">允许\n                    </el-button>\n                    <el-button\n                            size=\"mini\"\n                            type=\"danger\"\n                            @click=\"handleDelete(scope.$index, scope.row)\">拒绝\n                    </el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"HandleApp\",\n        inject:[\n            'reload'\n        ],\n        data() {\n            return {\n                userInfo: {\n                    name: \"\",\n                    author: 0,\n                    uid: \"\",\n                },\n                tableData: [{\n                    applicationId: \"\",\n                    name: \"\",\n                    reason: \"\",\n                    date: \"\",\n                }]\n            }\n        },\n\n        created() {\n            let _this = this\n            let my = JSON.parse(sessionStorage.getItem(\"userInfo\"));\n            this.userInfo.name = my.name\n            this.userInfo.uid = my.uid\n            this.userInfo.author = my.author\n\n            axios.get(\"http://localhost:8081/application/handle\").then(function (resp) {\n                _this.tableData = resp.data\n            })\n        },\n\n        methods: {\n            handleEdit(index, row) {\n                let _this = this\n                //console.log(row.applicationId);\n                //http://localhost:8081/application/{way}/{main_id}/{main_name}\n                axios.put(\"http://localhost:8081/application/\" + 1 + \"/\" + this.userInfo.uid + \"/\" + this.userInfo.name, row)\n                    .then(function (resp) {\n                    if (resp.data) {\n                        _this.reload();\n                        _this.$message('已处理');\n                    } else {\n                        _this.$message('未知错误');\n                    }\n                })\n            },\n            handleDelete(index, row) {\n                let _this = this\n                axios.put(\"http://localhost:8081/application/\" + 0 + \"/\" + this.userInfo.uid + \"/\" + this.userInfo.name, row)\n                    .then(function (resp) {\n                    if (resp.data) {\n                        _this.reload();\n                        _this.$message('已处理');\n                    } else {\n                        _this.$message('未知错误');\n                    }\n                })\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}