{"remainingRequest":"/Users/percher/WebstormProjects/ele-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/percher/WebstormProjects/ele-ui/src/components/Sign/Clock.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/percher/WebstormProjects/ele-ui/src/components/Sign/Clock.vue","mtime":1583909922359},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/WebstormProjects/ele-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKCiAgICAgICAgICAgIGZsYWc6IHRydWUsCgogICAgICAgICAgICBzdWJtaXREYXRhOiB7CiAgICAgICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgICAgIHN0YXR1czogdHJ1ZSwKICAgICAgICAgICAgICAgIHVpZDogIiIKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIGZvcm1JbmxpbmU6IHsKICAgICAgICAgICAgICAgIHJlZ2lvbjogJycKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIHRhYmxlRGF0YTogW3sKICAgICAgICAgICAgICAgIGRhdGU6ICcnLAogICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICByZWFzb246ICcnCiAgICAgICAgICAgIH1dCiAgICAgICAgICAgICwKICAgICAgICAgICAgbnVtYmVyczogewogICAgICAgICAgICAgICAgdG90YWw6IDAsCiAgICAgICAgICAgICAgICBzaWduOiAwLAogICAgICAgICAgICAgICAgYWJzZW50OiAwCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIG9uU3VibWl0KCkgewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfmiZPljaEnKTsKICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgICAgICBsZXQgbXkgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIikpCiAgICAgICAgICAgIHRoaXMuc3VibWl0RGF0YS5uYW1lID0gbXkubmFtZQogICAgICAgICAgICB0aGlzLnN1Ym1pdERhdGEudWlkID0gbXkudWlkCgogICAgICAgICAgICBpZiAobXkudWlkICE9PSAiIikgewogICAgICAgICAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo4MDgxL3JlY29yZC9zYXZlUmVjb3JkIiwgX3RoaXMuc3VibWl0RGF0YSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLmRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoJ+aJk+WNoeaIkOWKnycpCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoJ+S9oOS7iuWkqeW3sue7j+aJk+i/h+WNoeS6hu+8gScpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIG9uU2VhcmNoKCkgewogICAgICAgICAgICAvLy9odHRwOi8vbG9jYWxob3N0OjgwODEvcmVjb3JkL3NpZ25MaXN0L3ttZXRob2R9L3t1aWR9CiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICAgICAgbGV0IHVpZCA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSkudWlkCiAgICAgICAgICAgIGxldCBtID0gdGhpcy5mb3JtSW5saW5lLnJlZ2lvbgoKICAgICAgICAgICAgaWYobT49Mil7CiAgICAgICAgICAgICAgICB0aGlzLmZsYWcgPSBmYWxzZQogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmZsYWcgPSB0cnVlCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDgxL3JlY29yZC9zaWduTGlzdC8iICsgbSArICIvIiArIHVpZCkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzcC5kYXRhCiAgICAgICAgICAgIH0pCgogICAgICAgICAgICAvL2NvbnNvbGUubG9nKHRoaXMuZm9ybUlubGluZS5yZWdpb24rInwiK3VpZCkKICAgICAgICB9CiAgICB9LAoKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgLy9odHRwOi8vbG9jYWxob3N0OjgwODEvcmVjb3JkL2NvdW50CiAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDgxL3JlY29yZC9jb3VudCIpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgX3RoaXMubnVtYmVycy5zaWduPXJlc3AuZGF0YS5jb2Zfc2lnbgogICAgICAgICAgICBfdGhpcy5udW1iZXJzLmFic2VudD1yZXNwLmRhdGEuY29mX2Fic2VudAogICAgICAgICAgICBfdGhpcy5udW1iZXJzLnRvdGFsPXJlc3AuZGF0YS5jb2ZfdG90YWwKICAgICAgICB9KQogICAgfQp9Cg=="},{"version":3,"sources":["Clock.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Clock.vue","sourceRoot":"src/components/Sign","sourcesContent":["<template>\n    <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\n        <el-form-item>\n            <el-button type=\"primary\" @click=\"onSubmit\">每日打卡</el-button>\n        </el-form-item>\n        <el-form-item label=\"查询考勤情况\">\n            <el-select v-model=\"formInline.region\" placeholder=\"请选择\">\n                <el-option label=\"今日打卡\" value=\"0\"></el-option>\n                <el-option label=\"我的打卡\" value=\"1\"></el-option>\n                <el-option label=\"我的请假\" value=\"2\"></el-option>\n                <el-option label=\"今日请假\" value=\"3\"></el-option>\n            </el-select>\n        </el-form-item>\n        <el-form-item>\n            <el-button type=\"primary\" @click=\"onSearch\">查询</el-button>\n        </el-form-item>\n\n        <el-form-item label=\"总人数\">\n            <span>{{numbers.total}}</span>\n        </el-form-item>\n        <el-form-item label=\"今日已打卡人数\">\n            <span>{{numbers.sign}}</span>\n        </el-form-item>\n        <el-form-item label=\"今日请假人数\">\n            <span>{{numbers.absent}}</span>\n        </el-form-item>\n\n        <el-table\n                v-if=\"flag\"\n                :data=\"tableData\"\n                stripe\n                style=\"width: 100%\">\n            <el-table-column\n                    prop=\"name\"\n                    label=\"打卡人\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"date\"\n                    label=\"打卡日期\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"reason\"\n                    label=\"打卡时间\">\n            </el-table-column>\n        </el-table>\n\n        <el-table\n                v-else\n                :data=\"tableData\"\n                stripe\n                style=\"width: 100%\">\n            <el-table-column\n                    prop=\"name\"\n                    label=\"请假人\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"date\"\n                    label=\"请假日期\">\n            </el-table-column>\n            <el-table-column\n                    prop=\"reason\"\n                    label=\"请假原因\">\n            </el-table-column>\n        </el-table>\n\n    </el-form>\n</template>\n<script>\n    export default {\n        data() {\n            return {\n\n                flag: true,\n\n                submitData: {\n                    name: \"\",\n                    status: true,\n                    uid: \"\"\n                },\n\n                formInline: {\n                    region: ''\n                },\n\n                tableData: [{\n                    date: '',\n                    name: '',\n                    reason: ''\n                }]\n                ,\n                numbers: {\n                    total: 0,\n                    sign: 0,\n                    absent: 0\n                }\n            }\n        },\n        methods: {\n            onSubmit() {\n                //console.log('打卡');\n                let _this = this\n                let my = JSON.parse(sessionStorage.getItem(\"userInfo\"))\n                this.submitData.name = my.name\n                this.submitData.uid = my.uid\n\n                if (my.uid !== \"\") {\n                    axios.post(\"http://localhost:8081/record/saveRecord\", _this.submitData).then(function (resp) {\n                        if (resp.data) {\n                            _this.$message('打卡成功')\n                        } else {\n                            _this.$message('你今天已经打过卡了！')\n                        }\n                    })\n                }\n            },\n\n            onSearch() {\n                ///http://localhost:8081/record/signList/{method}/{uid}\n                let _this = this\n                let uid = JSON.parse(sessionStorage.getItem(\"userInfo\")).uid\n                let m = this.formInline.region\n\n                if(m>=2){\n                    this.flag = false\n                }else {\n                    this.flag = true\n                }\n\n                axios.get(\"http://localhost:8081/record/signList/\" + m + \"/\" + uid).then(function (resp) {\n                    _this.tableData = resp.data\n                })\n\n                //console.log(this.formInline.region+\"|\"+uid)\n            }\n        },\n\n        created() {\n            //http://localhost:8081/record/count\n            let _this = this\n            axios.get(\"http://localhost:8081/record/count\").then(function (resp) {\n                _this.numbers.sign=resp.data.cof_sign\n                _this.numbers.absent=resp.data.cof_absent\n                _this.numbers.total=resp.data.cof_total\n            })\n        }\n    }\n</script>"]}]}