{"remainingRequest":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/percher/personnel-management-system/ele-ui/src/components/Salary/SalaryEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/percher/personnel-management-system/ele-ui/src/components/Salary/SalaryEdit.vue","mtime":1589702274370},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdGFibGVEYXRhOiBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWQ6ICIiLAogICAgICAgICAgICAgICAgICAgIHVpZDogOTksCiAgICAgICAgICAgICAgICAgICAgbmFtZTogIueOi+WuieS5iyIsCiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICLmlZnmjogiLAogICAgICAgICAgICAgICAgICAgIHdhZ2VzOiA1MDAwLAogICAgICAgICAgICAgICAgICAgIGZ1bmQ6IDAuMTIsCiAgICAgICAgICAgICAgICAgICAgaW5zdXJlMTogMC4yLAogICAgICAgICAgICAgICAgICAgIGluc3VyZTI6IDAuMSwKICAgICAgICAgICAgICAgICAgICBpbnN1cmUzOiAwLjAxLAogICAgICAgICAgICAgICAgICAgIGluc3VyZTQ6IDAuMDEsCiAgICAgICAgICAgICAgICAgICAgaW5zdXJlNTogMC4wMDgsCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIGZ1bmRMaXN0OiBbXQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIGxldCBfdGhpcyA9IHRoaXMKICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9jYXBpdGFsL2xpc3QiKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IHJlc3AuZGF0YQogICAgICAgIH0pCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICBjb3VudEFtb3VudChyb3cpIHsKICAgICAgICAgICAgbGV0IHN1bSA9IHJvdy5pbnN1cmUxICsgcm93Lmluc3VyZTIgKyByb3cuaW5zdXJlMyArIHJvdy5pbnN1cmU0ICsgcm93Lmluc3VyZTUKICAgICAgICAgICAgc3VtID0gcGFyc2VGbG9hdChzdW0pLnRvRml4ZWQoMykKICAgICAgICAgICAgcmV0dXJuIHN1bQogICAgICAgIH0sCiAgICAgICAgZWRpdEFjdGl2ZWRFdmVudCh7cm93LCBjb2x1bW59LCBldmVudCkgewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKGDmiZPlvIAgJHtjb2x1bW4udGl0bGV9IOWIl+e8lui+kWApCiAgICAgICAgICAgIC8vIGxldCB2ID0gMC4xICsgMC4yICsgMC4wMSArIDAuMDEgKyAwLjAwOAogICAgICAgICAgICAvLyB2ID0gdi50b0ZpeGVkKDMpCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHYpCiAgICAgICAgfSwKICAgICAgICBlZGl0Q2xvc2VkRXZlbnQoe3JvdywgY29sdW1ufSwgZXZlbnQpIHsKICAgICAgICAgICAgbGV0IG15ID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VySW5mbyIpKQogICAgICAgICAgICBheGlvcy5wdXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9jYXBpdGFsL3VwZGF0ZS8iICsgbXkudWlkICsgIi8iICsgbXkubmFtZSwgcm93KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcC5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoJ+S/ruaUueWPguaVsOaIkOWKnycpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSgn5L+u5pS55Y+C5pWw5aSx6LSlJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["SalaryEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SalaryEdit.vue","sourceRoot":"src/components/Salary","sourcesContent":["<template>\n    <div>\n        <vxe-table\n                border\n                resizable\n                :height=\"500\"\n                :data=\"tableData\"\n                :edit-config=\"{trigger: 'click', mode: 'cell'}\"\n                @edit-actived=\"editActivedEvent\"\n                @edit-closed=\"editClosedEvent\">\n            <vxe-table-column field=\"uid\" title=\"UID\"></vxe-table-column>\n            <vxe-table-column field=\"name\" title=\"名字\"></vxe-table-column>\n            <vxe-table-column field=\"position\" title=\"职称\"></vxe-table-column>\n\n\n            <vxe-table-column field=\"wages\" title=\"基本工资\"\n                              :edit-render=\"{name: '$input', props: {type: 'number'}}\"></vxe-table-column>\n            <vxe-table-column field=\"fund\" title=\"公积金基数\"\n                              :edit-render=\"{name: '$input', props: {type: 'number'}}\"></vxe-table-column>\n            <vxe-table-column field=\"insure1\" title=\"养老保险基数\"\n                              :edit-render=\"{name: '$input', props: {type: 'number'}}\"></vxe-table-column>\n            <vxe-table-column field=\"insure2\" title=\"医疗保险基数\"\n                              :edit-render=\"{name: '$input', props: {type: 'number'}}\"></vxe-table-column>\n            <vxe-table-column field=\"insure3\" title=\"失业保险基数\"\n                              :edit-render=\"{name: '$input', props: {type: 'number'}}\"></vxe-table-column>\n            <vxe-table-column field=\"insure4\" title=\"工伤保险基数\"\n                              :edit-render=\"{name: '$input', props: {type: 'number'}}\"></vxe-table-column>\n            <vxe-table-column field=\"insure5\" title=\"生育保险基数\"\n                              :edit-render=\"{name: '$input', props: {type: 'number'}}\"></vxe-table-column>\n            <!--            <vxe-table-column field=\"total\" title=\"保险总基数\" :formatter=\"countAmount\"></vxe-table-column>-->\n            <vxe-table-column title=\"保险总基数\">\n                <template v-slot=\"{ row }\">\n                    <span>{{ countAmount(row) }}</span>\n                </template>\n            </vxe-table-column>\n\n        </vxe-table>\n    </div>\n\n</template>\n\n<script>\n    export default {\n        data() {\n            return {\n                tableData: [\n                    {\n                        id: \"\",\n                        uid: 99,\n                        name: \"王安之\",\n                        position: \"教授\",\n                        wages: 5000,\n                        fund: 0.12,\n                        insure1: 0.2,\n                        insure2: 0.1,\n                        insure3: 0.01,\n                        insure4: 0.01,\n                        insure5: 0.008,\n                    }\n                ],\n                fundList: []\n            }\n        },\n        created() {\n            let _this = this\n            axios.get(\"http://localhost:8081/capital/list\").then(function (resp) {\n                _this.tableData = resp.data\n            })\n        },\n\n        methods: {\n            countAmount(row) {\n                let sum = row.insure1 + row.insure2 + row.insure3 + row.insure4 + row.insure5\n                sum = parseFloat(sum).toFixed(3)\n                return sum\n            },\n            editActivedEvent({row, column}, event) {\n                //console.log(`打开 ${column.title} 列编辑`)\n                // let v = 0.1 + 0.2 + 0.01 + 0.01 + 0.008\n                // v = v.toFixed(3)\n                // console.log(v)\n            },\n            editClosedEvent({row, column}, event) {\n                let my = JSON.parse(sessionStorage.getItem(\"userInfo\"))\n                axios.put(\"http://localhost:8081/capital/update/\" + my.uid + \"/\" + my.name, row).then(function (resp) {\n                    if (resp.data) {\n                        _this.$message('修改参数成功');\n                    } else {\n                        _this.$message('修改参数失败');\n                    }\n                })\n            }\n        }\n    }\n</script>"]}]}