{"remainingRequest":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/percher/personnel-management-system/ele-ui/src/views/Vision.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/percher/personnel-management-system/ele-ui/src/views/Vision.vue","mtime":1591199972129},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiogewogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKfQouZ3JhLW1haW4gewogICAgd2lkdGg6IDgzJTsKICAgIGhlaWdodDogNzUlOwogICAgcG9zaXRpb246IGFic29sdXRlOwp9Ci53IHsKICAgIHdpZHRoOiA1MCU7CiAgICBoZWlnaHQ6IDUwJTsKICAgIGZsb2F0OiBsZWZ0OwogICAgYm94LXNoYWRvdzogMHB4IDBweCAycHggIzkwODc4ZDsKfQojZ3JhLW1haW4tMiB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBhbGljZWJsdWU7Cn0KI2dyYS1tYWluLTMgewogICAgYmFja2dyb3VuZC1jb2xvcjogYWxpY2VibHVlOwp9Cg=="},{"version":3,"sources":["Vision.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Vision.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"gra-main\">\n        <div class=\"w\" id=\"gra-main-1\"></div>\n        <div class=\"w\" id=\"gra-main-2\"></div>\n        <div class=\"w\" id=\"gra-main-3\"></div>\n        <div class=\"w\" id=\"gra-main-4\"></div>\n    </div>\n</template>\n<script>\n    import echarts from 'echarts'\n    export default {\n        mounted() {\n            let myChart1 = echarts.init(document.getElementById('gra-main-1'))\n            let option1 = {\n                title: {\n                    text: '今日企业考勤情况',\n                    left: 'center',\n                    textStyle: {\n                        color: '#000'\n                    }\n                },\n                tooltip: {\n                    trigger: 'item',\n                    formatter: '{a} <br/>{b}: {c} ({d}%)'\n                },\n                legend: {\n                    orient: 'vertical',\n                    left: 10,\n                    data: ['已签到人员数', '未签到人员数', '请假人员数']\n                },\n                series: [\n                    {\n                        name: '企业考勤',\n                        type: 'pie',\n                        radius: ['50%', '70%'],\n                        avoidLabelOverlap: false,\n                        label: {\n                            show: false,\n                            position: 'center'\n                        },\n                        emphasis: {\n                            label: {\n                                show: true,\n                                fontSize: '30',\n                                fontWeight: 'bold'\n                            }\n                        },\n                        labelLine: {\n                            show: false\n                        },\n                        data: []\n                    }\n                ]\n            };\n            myChart1.setOption(option1)\n            axios.get(\"http://localhost:8081/record/count\").then(function (resp) {\n                myChart1.setOption({\n                    series: [{\n                        data: [\n                            {value: resp.data.cof_sign, name: '已签到人员数'},\n                            {value: resp.data.cof_absent, name: '请假人员数'},\n                            {value: (resp.data.cof_total - resp.data.cof_sign - resp.data.cof_absent), name: '未签到人员数'},\n                        ]\n                    }]\n                })\n            })\n            //div2的图\n            let d = new Date()\n            let day = new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate() //当月总天数\n            let my = JSON.parse(sessionStorage.getItem(\"userInfo\"))\n            let myChart2 = echarts.init(document.getElementById('gra-main-2'))\n            let option2 = {\n                title: {\n                    text: '个人当月考勤情况',\n                    left: 'center',\n                    textStyle: {\n                        color: '#000'\n                    }\n                },\n                tooltip: {\n                    trigger: 'item',\n                    formatter: '{a} <br/>{b}: {c} ({d}%)'\n                },\n                legend: {\n                    orient: 'vertical',\n                    left: 10,\n                    data: ['已签到天数', '未签到天数', '请假天数']\n                },\n                series: [\n                    {\n                        name: '个人考勤',\n                        type: 'pie',\n                        radius: ['50%', '70%'],\n                        avoidLabelOverlap: false,\n                        label: {\n                            show: false,\n                            position: 'center'\n                        },\n                        emphasis: {\n                            label: {\n                                show: true,\n                                fontSize: '30',\n                                fontWeight: 'bold'\n                            }\n                        },\n                        labelLine: {\n                            show: false\n                        },\n                        data: []\n                    }\n                ]\n            };\n            myChart2.setOption(option2)\n            axios.get(\"http://localhost:8081/record/vision/\" + my.uid).then(function (resp) {\n                myChart2.setOption({\n                    series: [{\n                        data: [\n                            {value: resp.data.cof_sign, name: '已签到天数'},\n                            {value: resp.data.cof_absent, name: '请假天数'},\n                            {value: (day - resp.data.cof_sign - resp.data.cof_absent), name: '未签到天数'},\n                        ]\n                    }]\n                })\n            })\n            //div3的图\n            let myChart3 = echarts.init(document.getElementById('gra-main-3'))\n            let option3 = {\n                title: {\n                    text: '企业中各部门人数',\n                    left: 'center'\n                },\n                tooltip: {\n                    trigger: 'item',\n                    formatter: '{a} <br/>{b} : {c} ({d}%)'\n                },\n                legend: {\n                    left: 'center',\n                    top: 'bottom',\n                    data: []\n                },\n                toolbox: {\n                    show: true,\n                    feature: {\n                        mark: {show: true},\n                        magicType: {\n                            show: true,\n                            type: ['pie', 'funnel']\n                        },\n\n                    }\n                },\n                series: [\n                    {\n                        name: '',\n                        type: 'pie',\n                        radius: [30, 110],\n                        center: ['50%', '50%'],\n                        roseType: 'area',\n                        data: []\n                    }\n                ]\n            };\n            myChart3.setOption(option3)\n            axios.get(\"http://localhost:8081/user/countDepart\").then(function (resp) {\n                myChart3.setOption({\n                    // legend: {\n                    //     data: resp.data.name\n                    // }\n                    // ,\n                    series: [{\n                        data: resp.data\n                    }]\n                })\n            })\n            //div4的图\n            let myChart4 = echarts.init(document.getElementById('gra-main-4'))\n            let option4 = {\n                title: {\n                    text: '企业员工性别分布情况',\n                    left: 'center'\n                },\n                tooltip: {\n                    trigger: 'item',\n                    formatter: '{a} <br/>{b}: {c} ({d}%)'\n                },\n                legend: {\n                    orient: 'vertical',\n                    left: 10,\n                    data: []\n                },\n                series: [\n                    {\n                        name: '访问来源',\n                        type: 'pie',\n                        selectedMode: 'single',\n                        radius: [0, '70%'],\n\n                        label: {\n                            position: 'inner'\n                        },\n                        labelLine: {\n                            show: false\n                        },\n                        data: []\n                    },\n                ]\n            };\n            myChart4.setOption(option4)\n            axios.get(\"http://localhost:8081/user/countGender\").then(function (resp) {\n\n                myChart4.setOption({\n                    legend: {\n                        data: resp.data.name\n                    },\n                    series: [\n                        {\n                            data: [\n                                {name: resp.data[1].name, value: resp.data[1].value},\n                                {name: resp.data[0].name, value: resp.data[0].value, selected: true}\n                            ]\n                        }\n                    ]\n                })\n            })\n        }\n    }\n</script>\n\n<style>\n    * {\n        margin: 0;\n        padding: 0;\n    }\n    .gra-main {\n        width: 83%;\n        height: 75%;\n        position: absolute;\n    }\n    .w {\n        width: 50%;\n        height: 50%;\n        float: left;\n        box-shadow: 0px 0px 2px #90878d;\n    }\n    #gra-main-2 {\n        background-color: aliceblue;\n    }\n    #gra-main-3 {\n        background-color: aliceblue;\n    }\n</style>"]}]}