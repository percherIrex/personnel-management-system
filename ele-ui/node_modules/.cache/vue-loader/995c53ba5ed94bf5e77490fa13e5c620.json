{"remainingRequest":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/percher/personnel-management-system/ele-ui/src/components/User/UserSave.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/percher/personnel-management-system/ele-ui/src/components/User/UserSave.vue","mtime":1591353806907},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/percher/personnel-management-system/ele-ui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKCiAgICBpbmplY3Q6IFsncmVsb2FkJ10sCgogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBydWxlRm9ybTogewogICAgICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgICAgICBnZW5kZXI6ICcnLAogICAgICAgICAgICAgICAgcGhvbmU6ICcnLAogICAgICAgICAgICAgICAgZW1haWw6ICcnLAogICAgICAgICAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgICAgICAgICBkZXBhcnQ6ICcnLAogICAgICAgICAgICAgICAgcG9zaXRpb246ICcnLAogICAgICAgICAgICB9LAogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgLy8gcmVxdWlyZWTmmK/lkKblv4XpgIkgIGJsdXLlpLHljrvnhKbngrnop6blj5EKICAgICAgICAgICAgICAgIG5hbWU6IFsKICAgICAgICAgICAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlkI3lrZcnLCB0cmlnZ2VyOiAnYmx1cid9LAogICAgICAgICAgICAgICAgICAgIHttaW46IDIsIG1heDogNSwgbWVzc2FnZTogJ+mVv+W6puWcqCAyIOWIsCA1IOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJ30KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBnZW5kZXI6IFsKICAgICAgICAgICAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nmgKfliKsnLCB0cmlnZ2VyOiAnY2hhbmdlJ30KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBwaG9uZTogWwogICAgICAgICAgICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeUteivnScsIHRyaWdnZXI6ICdibHVyJ30sCiAgICAgICAgICAgICAgICAgICAge21pbjogMTEsIG1heDogMTEsIG1lc3NhZ2U6ICfmoLzlvI/kuI3nrKblkIgnLCB0cmlnZ2VyOiAnYmx1cid9LAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGVtYWlsOiBbCiAgICAgICAgICAgICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInfSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBhZGRyZXNzOiBbCiAgICAgICAgICAgICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInfSwKCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgZGVwYXJ0OiBbCiAgICAgICAgICAgICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInfSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogWwogICAgICAgICAgICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+S4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJ30sCiAgICAgICAgICAgICAgICBdLAoKICAgICAgICAgICAgfQogICAgICAgIH07CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgICAgICAgbGV0IF90aGlzID0gdGhpcwogICAgICAgICAgICBsZXQgbXkgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIikpCgogICAgICAgICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIC8v5o+Q5Lqk5Yiw5pWw5o2u5bqTLOiHquWKqOWwgeijheaIkEpzb24KICAgICAgICAgICAgICAgICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwODEvdXNlci9zYXZlVXNlci8iICsgbXkudWlkICsgIi8iICsgbXkubmFtZSwgX3RoaXMucnVsZUZvcm0pCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5kYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/pobXpnaLot7PovawKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi91c2VyL2xpc3QiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRub3RpZnkoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkurrlkZjmt7vliqDmiJDlip/vvIzotKblj7fkuLrnlLXor53lj7fnoIHvvIzpu5jorqTlr4bnoIHkuLowMDAwMDAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["UserSave.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserSave.vue","sourceRoot":"src/components/User","sourcesContent":["<template>\n    <!--    model用来绑数据， rules用来绑定校验规则-->\n    <div class=\"user-save-main\">\n        <h3>添加新员工</h3>\n        <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\n            <!--        prop绑定的是校验规则-->\n            <el-form-item style=\"width: 25%\" label=\"姓名\" prop=\"name\">\n                <el-input v-model=\"ruleForm.name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"性别\" prop=\"gender\">\n                <el-radio-group v-model=\"ruleForm.gender\">\n                    <el-radio label=\"男\" value=\"男\"></el-radio>\n                    <el-radio label=\"女\" value=\"女\"></el-radio>\n                </el-radio-group>\n            </el-form-item>\n\n            <el-form-item style=\"width: 25%\" label=\"电话\" prop=\"phone\">\n                <el-input v-model=\"ruleForm.phone\"></el-input>\n            </el-form-item>\n            <el-form-item style=\"width: 25%\" label=\"邮箱\" prop=\"email\">\n                <el-input v-model=\"ruleForm.email\"></el-input>\n            </el-form-item>\n            <el-form-item style=\"width: 25%\" label=\"住址\" prop=\"address\">\n                <el-input v-model=\"ruleForm.address\"></el-input>\n            </el-form-item>\n            <el-form-item style=\"width: 25%\" label=\"部门\" prop=\"depart\">\n                <el-select v-model=\"ruleForm.depart\" placeholder=\"请选择部门\">\n                    <el-option label=\"销售部\" value=\"销售部\"></el-option>\n                    <el-option label=\"研发部\" value=\"研发部\"></el-option>\n                    <el-option label=\"人事部\" value=\"人事部\"></el-option>\n                    <el-option label=\"生产部\" value=\"生产部\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item style=\"width: 25%\" label=\"职位\" prop=\"position\">\n                <el-input v-model=\"ruleForm.position\"></el-input>\n            </el-form-item>\n\n\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">添加</el-button>\n                <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n<script>\n    export default {\n\n        inject: ['reload'],\n\n        data() {\n            return {\n                ruleForm: {\n                    name: '',\n                    gender: '',\n                    phone: '',\n                    email: '',\n                    address: '',\n                    depart: '',\n                    position: '',\n                },\n                rules: {\n                    // required是否必选  blur失去焦点触发\n                    name: [\n                        {required: true, message: '请输入名字', trigger: 'blur'},\n                        {min: 2, max: 5, message: '长度在 2 到 5 个字符', trigger: 'blur'}\n                    ],\n                    gender: [\n                        {required: true, message: '请选择性别', trigger: 'change'}\n                    ],\n                    phone: [\n                        {required: true, message: '请输入电话', trigger: 'blur'},\n                        {min: 11, max: 11, message: '格式不符合', trigger: 'blur'},\n                    ],\n                    email: [\n                        {required: true, message: '不能为空', trigger: 'blur'},\n                    ],\n                    address: [\n                        {required: true, message: '不能为空', trigger: 'blur'},\n\n                    ],\n                    depart: [\n                        {required: true, message: '不能为空', trigger: 'blur'},\n                    ],\n                    position: [\n                        {required: true, message: '不能为空', trigger: 'blur'},\n                    ],\n\n                }\n            };\n        },\n        methods: {\n            submitForm(formName) {\n                let _this = this\n                let my = JSON.parse(sessionStorage.getItem(\"userInfo\"))\n\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        //提交到数据库,自动封装成Json\n                        axios.post(\"http://localhost:8081/user/saveUser/\" + my.uid + \"/\" + my.name, _this.ruleForm)\n                            .then(function (resp) {\n                                if (resp.data) {\n                                    //页面跳转\n                                    _this.$router.push(\"/user/list\")\n                                    _this.$notify({\n                                        title: '提示',\n                                        message: '人员添加成功，账号为电话号码，默认密码为000000',\n                                        duration: 0,\n                                        type: \"success\"\n                                    })\n                                }\n                            })\n\n                    } else {\n                        console.log('error submit!!');\n                        return false;\n                    }\n                });\n            },\n            resetForm(formName) {\n                this.$refs[formName].resetFields();\n            }\n        }\n    }\n</script>\n\n<style>\n    .user-save-main {\n\n    }\n    .demo-ruleForm{\n        margin: 0 auto;\n    }\n</style>"]}]}